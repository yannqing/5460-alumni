<!-- è‡ªå®šä¹‰å¯¼èˆªæ  -->
<custom-nav-bar showBack="{{true}}" useAuditStyle="{{true}}" auditTitle="æ ¡å‹æ€»ä¼šç”³è¯·è¯¦æƒ…">

<!-- æ¶ˆæ¯é€šçŸ¥ç»„ä»¶ -->
<message-notification />

<scroll-view class="container" scroll-y enable-back-to-top>
  <!-- éª¨æ¶å±åŠ è½½çŠ¶æ€ -->
  <view class="skeleton-container" wx:if="{{loading}}">
    <view class="skeleton-header">
      <view class="skeleton-avatar skeleton-animate"></view>
      <view class="skeleton-user-info">
        <view class="skeleton-name skeleton-animate"></view>
        <view class="skeleton-time skeleton-animate"></view>
      </view>
    </view>
    <view class="skeleton-title skeleton-animate"></view>
    <view class="skeleton-content">
      <view class="skeleton-line skeleton-animate"></view>
      <view class="skeleton-line skeleton-animate" style="width: 85%;"></view>
      <view class="skeleton-line skeleton-animate" style="width: 70%;"></view>
    </view>
  </view>

  <!-- æ ¡å‹æ€»ä¼šè¯¦æƒ…å†…å®¹ -->
  <block wx:elif="{{headquarters}}">
    <!-- ä¸»å¡ç‰‡ -->
    <view class="main-card">
      <!-- åŸºæœ¬ä¿¡æ¯ -->
      <view class="info-section">
        <view class="info-item">
          <text class="info-label">æ ¡å‹æ€»ä¼šåç§°</text>
          <text class="info-value">{{headquarters.headquartersName || 'æ— '}}</text>
        </view>
        <view class="info-item">
          <text class="info-label">å®¡æ ¸çŠ¶æ€</text>
          <view class="status-tag {{statusClass}}">
            <text class="status-text">{{approvalStatusText}}</text>
          </view>
        </view>
        <view class="info-item">
          <text class="info-label">æˆç«‹æ—¥æœŸ</text>
          <text class="info-value">{{headquarters.establishedDate || 'æ— '}}</text>
        </view>
        <view class="info-item">
          <text class="info-label">åˆ›å»ºç </text>
          <text class="info-value">{{headquarters.createCode || 'æ— '}}</text>
        </view>
      </view>

      <!-- åˆ†å‰²çº¿ -->
      <view class="divider"></view>

      <!-- è¯¦ç»†ä¿¡æ¯ -->
      <view class="detail-section">
        <view class="section-title">è¯¦ç»†ä¿¡æ¯</view>
        <view class="info-item">
          <text class="info-label">æè¿°</text>
          <text class="info-value multi-line">{{headquarters.description || 'æ— '}}</text>
        </view>
        <view class="info-item">
          <text class="info-label">è”ç³»ä¿¡æ¯</text>
          <text class="info-value">{{headquarters.contactInfo || 'æ— '}}</text>
        </view>
        <view class="info-item">
          <text class="info-label">åŠå…¬åœ°å€</text>
          <text class="info-value">{{headquarters.address || 'æ— '}}</text>
        </view>
        <view class="info-item">
          <text class="info-label">å®˜æ–¹ç½‘ç«™</text>
          <text class="info-value link" wx:if="{{headquarters.website}}" bindtap="openLink" data-link="{{headquarters.website}}">{{headquarters.website}}</text>
          <text class="info-value" wx:else>æ— </text>
        </view>
        <view class="info-item">
          <text class="info-label">å¾®ä¿¡å…¬ä¼—å·</text>
          <text class="info-value">{{headquarters.wechatPublicAccount || 'æ— '}}</text>
        </view>
        <view class="info-item">
          <text class="info-label">è”ç³»é‚®ç®±</text>
          <text class="info-value">{{headquarters.email || 'æ— '}}</text>
        </view>
        <view class="info-item">
          <text class="info-label">è”ç³»ç”µè¯</text>
          <text class="info-value">{{headquarters.phone || 'æ— '}}</text>
        </view>
      </view>

      <!-- åˆ†å‰²çº¿ -->
      <view class="divider"></view>

      <!-- å­¦æ ¡ä¿¡æ¯ï¼ˆæš‚æ—¶ä¸å±•ç¤ºï¼‰ -->
      <!-- <view class="school-section" wx:if="{{headquarters.schoolInfo}}">
        <view class="section-title">å­¦æ ¡ä¿¡æ¯</view>
        <view class="info-item">
          <text class="info-label">å­¦æ ¡åç§°</text>
          <text class="info-value">{{headquarters.schoolInfo.schoolName || 'æ— '}}</text>
        </view>
        <view class="info-item">
          <text class="info-label">å­¦æ ¡ä»£ç </text>
          <text class="info-value">{{headquarters.schoolInfo.schoolCode || 'æ— '}}</text>
        </view>
      </view> -->

      <!-- åˆ†å‰²çº¿ -->
      <view class="divider"></view>

      <!-- åˆ›å»ºè€…ä¿¡æ¯ -->
      <view class="user-section" wx:if="{{headquarters.createdUser}}">
        <view class="section-title">åˆ›å»ºè€…ä¿¡æ¯</view>
        <view class="info-item">
          <text class="info-label">åˆ›å»ºäºº</text>
          <text class="info-value">{{headquarters.createdUser.nickname || headquarters.createdUser.username || 'æ— '}}</text>
        </view>
        <view class="info-item">
          <text class="info-label">åˆ›å»ºæ—¶é—´</text>
          <text class="info-value">{{headquarters.createdUser.createTime || 'æ— '}}</text>
        </view>
      </view>

      <!-- åˆ†å‰²çº¿ -->
      <view class="divider"></view>

      <!-- æ›´æ–°è€…ä¿¡æ¯ -->
      <view class="user-section" wx:if="{{headquarters.updatedUser}}">
        <view class="section-title">æ›´æ–°è€…ä¿¡æ¯</view>
        <view class="info-item">
          <text class="info-label">æ›´æ–°äºº</text>
          <text class="info-value">{{headquarters.updatedUser.nickname || headquarters.updatedUser.username || 'æ— '}}</text>
        </view>
        <view class="info-item">
          <text class="info-label">æ›´æ–°æ—¶é—´</text>
          <text class="info-value">{{headquarters.updatedUser.updateTime || 'æ— '}}</text>
        </view>
      </view>
    </view>

    <!-- é”™è¯¯ä¿¡æ¯ -->
    <view class="error-info" wx:if="{{headquarters.msg}}">
      <text class="error-text">{{headquarters.msg}}</text>
    </view>
  </block>

  <!-- é”™è¯¯çŠ¶æ€ -->
  <view wx:else class="error-state">
    <view class="error-icon">ğŸ¢</view>
    <view class="error-text">æ ¡å‹æ€»ä¼šç”³è¯·ä¸å­˜åœ¨æˆ–å·²åˆ é™¤</view>
    <view class="error-btn" bindtap="goBack">è¿”å›ä¸Šä¸€é¡µ</view>
  </view>

  <!-- åº•éƒ¨å ä½ -->
  <view class="bottom-placeholder"></view>
</scroll-view>

</custom-nav-bar>