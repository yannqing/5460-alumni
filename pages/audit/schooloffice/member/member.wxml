<!--pages/audit/schooloffice/member/member.wxml-->
<view class="container">
  <view class="form-card">
    <view class="form-title">校处会成员管理</view>

    <!-- 选择校处会 -->
    <view class="form-item">
      <text class="label">选择校处会</text>
      <view class="school-office-selector" bindtap="showSchoolOfficeSelector">
        <text class="selector-label">{{selectedSchoolOfficeName || '请选择校处会'}}</text>
        <text class="selector-arrow">▼</text>
      </view>
    </view>
  </view>

  <!-- 校处会选择器弹窗 -->
  <view class="school-office-picker" wx:if="{{showSchoolOfficePicker}}">
    <view class="picker-overlay" bindtap="cancelSchoolOfficeSelect"></view>
    <view class="picker-content">
      <view class="picker-header">
        <text class="picker-title">选择校处会</text>
        <text class="picker-cancel" bindtap="cancelSchoolOfficeSelect">取消</text>
      </view>
      <view class="picker-list">
        <view 
          class="picker-item"
          wx:for="{{schoolOfficeList}}"
          wx:key="schoolOfficeId"
          data-school-office-id="{{item.schoolOfficeId}}"
          data-school-office-name="{{item.schoolOfficeName}}"
          bindtap="selectSchoolOffice"
        >
          <text class="item-name">{{item.schoolOfficeName}}</text>
          <text class="item-check" wx:if="{{selectedSchoolOfficeId == item.schoolOfficeId}}">✓</text>
        </view>
        <view class="picker-empty" wx:if="{{schoolOfficeList.length === 0}}">
          <text>暂无校处会数据</text>
        </view>
      </view>
    </view>
  </view>
</view>