<!--pages/alumni/detail/detail.wxml-->
<view class="alumni-detail-page">
  <view wx:if="{{alumniInfo}}">
    <!-- 背景和头像区域 -->
    <view class="profile-header">
      <image class="background-image" src="{{alumniInfo.background || 'https://cdn.example.com/backgrounds/default-bg.jpg'}}" mode="aspectFill"></image>
      <view class="header-overlay"></view>
      <view class="profile-left-section">
        <view class="avatar-nickname-row">
          <image class="avatar-circle" src="{{alumniInfo.avatar || '/assets/images/default-avatar.png'}}" mode="aspectFill"></image>
          <view class="nickname-text">{{alumniInfo.nickname}}</view>
        </view>
        <view class="avatar-info-row">
          <view class="info-item">
            <text class="gender-icon {{alumniInfo.gender === 'male' ? 'gender-male' : 'gender-female'}}">{{alumniInfo.gender === 'male' ? '♂' : '♀'}}</text>
            <text class="info-text">{{alumniInfo.gender === 'male' ? '男' : '女'}}</text>
          </view>
          <view class="info-divider">·</view>
          <view class="info-item">
            <text class="info-text">{{alumniInfo.age}}岁</text>
          </view>
          <view class="info-divider">·</view>
          <view class="info-item">
            <text class="info-text">{{alumniInfo.zodiac}}</text>
          </view>
        </view>
      </view>
      <view class="profile-right-section">
        <view class="follow-btn {{alumniInfo.isFollowed ? 'followed' : ''}}" bindtap="toggleFollow">
          {{alumniInfo.isFollowed ? '已关注' : '关注TA'}}
        </view>
      </view>
    </view>

    <!-- 基本信息卡片 -->
    <view class="info-card">
      <view class="card-title">基本信息</view>
      <view class="info-row">
        <view class="info-label">昵称</view>
        <view class="info-value">{{alumniInfo.nickname}}</view>
      </view>
      <view class="info-row">
        <view class="info-label">真实姓名</view>
        <view class="info-value">{{alumniInfo.realName}}</view>
      </view>
      <view class="info-row">
        <view class="info-label">账号</view>
        <view class="info-value">{{alumniInfo.account}}</view>
      </view>
      <view class="info-row">
        <view class="info-label">出生年月</view>
        <view class="info-value">{{alumniInfo.birthDate}}</view>
      </view>
      <view class="info-row">
        <view class="info-label">专业</view>
        <view class="info-value">{{alumniInfo.major}}</view>
      </view>
      <view class="info-row">
        <view class="info-label">毕业年份</view>
        <view class="info-value">{{alumniInfo.graduateYear}}年</view>
      </view>
      <view class="info-row">
        <view class="info-label">邮箱</view>
        <view class="info-value">{{alumniInfo.email}}</view>
      </view>
      <view class="info-row">
        <view class="info-label">微信号</view>
        <view class="info-value">{{alumniInfo.wechat}}</view>
      </view>
      <view class="info-row">
        <view class="info-label">QQ号</view>
        <view class="info-value">{{alumniInfo.qq}}</view>
      </view>
      <view class="info-row">
        <view class="info-label">手机号</view>
        <view class="info-value">{{alumniInfo.phone}}</view>
      </view>
      <view class="info-row">
        <view class="info-label">个性签名</view>
        <view class="info-value signature-text">{{alumniInfo.signature || '暂无签名'}}</view>
      </view>
    </view>

    <!-- 工作信息卡片 -->
    <view class="info-card">
      <view class="card-title">工作信息</view>
      <view class="info-row">
        <view class="info-label">公司</view>
        <view class="info-value">{{alumniInfo.company}}</view>
      </view>
      <view class="info-row">
        <view class="info-label">职位</view>
        <view class="info-value">{{alumniInfo.position}}</view>
      </view>
      <view class="info-row">
        <view class="info-label">所在地</view>
        <view class="info-value">{{alumniInfo.location}}</view>
      </view>
    </view>

    <!-- 个人简介卡片 -->
    <view class="info-card">
      <view class="card-title">个人简介</view>
      <view class="bio-content">{{alumniInfo.bio}}</view>
    </view>

    <!-- 爱好卡片 -->
    <view class="info-card" wx:if="{{alumniInfo.hobbies && alumniInfo.hobbies.length}}">
      <view class="card-title">兴趣爱好</view>
      <view class="hobby-list">
        <view class="hobby-tag" wx:for="{{alumniInfo.hobbies}}" wx:key="*this">{{item}}</view>
      </view>
    </view>

    <!-- 所属母校卡片 -->
    <view class="info-card">
      <view class="card-title">所属母校</view>
      <view class="school-item" bindtap="viewSchoolDetail" data-id="{{alumniInfo.schoolId}}">
        <view class="school-name">{{alumniInfo.school}}</view>
        <text class="school-arrow">›</text>
      </view>
    </view>

    <!-- 加入的校友会卡片 -->
    <view class="info-card" wx:if="{{alumniInfo.associations && alumniInfo.associations.length}}">
      <view class="card-title">加入的校友会</view>
      <view class="association-list">
        <view class="association-item" wx:for="{{alumniInfo.associations}}" wx:key="id" bindtap="viewAssociationDetail" data-id="{{item.id}}">
          <view class="association-info">
            <view class="association-name">{{item.name}}</view>
            <view class="association-role">{{item.role}}</view>
          </view>
          <text class="association-arrow">›</text>
        </view>
      </view>
    </view>
  </view>
</view>
