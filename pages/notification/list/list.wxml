<!--pages/notification/list/list.wxml-->
<view class="container notification-page">
  <view class="notify-header card">
    <view class="notify-title-row">
      <view>
        <view class="notify-title">æ¶ˆæ¯ä¸­å¿ƒ</view>
        <view class="notify-subtitle">åŠæ—¶æŒæ¡æ ¡å‹åŠ¨æ€</view>
      </view>
      <button class="mark-read-btn" size="mini" bindtap="markAllRead">å…¨éƒ¨å·²è¯»</button>
    </view>
    <view class="notify-search">
      <text>ğŸ”</text>
      <input
        placeholder="æœç´¢æ ‡é¢˜æˆ–å†…å®¹"
        value="{{searchValue}}"
        bindinput="handleSearchInput"
      />
    </view>
  </view>

  <scroll-view class="notify-tabs" scroll-x>
    <view
      class="notify-tab {{filterType === option.id ? 'active' : ''}}"
      wx:for="{{filterOptions}}"
      wx:key="id"
      data-id="{{option.id}}"
      bindtap="handleFilterChange"
    >
      {{option.label}}
    </view>
  </scroll-view>

  <view wx:if="{{loading}}" class="loading">åŠ è½½ä¸­...</view>
  <view wx:elif="{{!displayList.length}}" class="empty-state card">
    <image src="https://cdn.example.com/empty-notify.png" mode="widthFix"></image>
    <text>æš‚æ— æ¶ˆæ¯</text>
  </view>
  <view wx:else class="notification-list">
    <view
      class="notification-item card {{item.isRead ? 'is-read' : ''}}"
      wx:for="{{displayList}}"
      wx:key="id"
      bindtap="viewDetail"
      data-id="{{item.id}}"
    >
      <view class="notification-header">
        <view class="notification-title">{{item.title}}</view>
        <view class="badge" wx:if="{{!item.isRead}}">æœªè¯»</view>
      </view>
      <view class="notification-content">{{item.content}}</view>
      <view class="notification-footer">
        <view class="notification-time">{{item.time}}</view>
        <view class="notification-type">{{item.type}}</view>
      </view>
    </view>
  </view>
</view>

