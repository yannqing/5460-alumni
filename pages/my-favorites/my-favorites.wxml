<!--pages/my-favorites/my-favorites.wxml-->
<view class="favorites-page">
  <view class="shop-list">
    <view class="shop-card" wx:for="{{favoriteShops}}" wx:key="id" bindtap="viewShopDetail" data-id="{{item.id}}">
      <image class="shop-cover" src="{{item.cover}}" mode="aspectFill"></image>
      <view class="shop-content">
        <view class="shop-header">
          <text class="shop-name">{{item.name}}</text>
          <view wx:if="{{item.isCertified}}" class="certified-badge">æ ¡å‹å•†é“º</view>
        </view>
        <view class="shop-desc">{{item.description}}</view>
        <view class="shop-meta">
          <view class="meta-item">
            <text class="meta-icon">â­</text>
            <text class="meta-text">{{item.rating}}</text>
          </view>
          <view class="meta-item">
            <text class="meta-icon">ğŸ“</text>
            <text class="meta-text">{{item.distance}}m</text>
          </view>
          <view class="meta-item" wx:if="{{item.avgPrice}}">
            <text class="meta-icon">ğŸ’°</text>
            <text class="meta-text">äººå‡Â¥{{item.avgPrice}}</text>
          </view>
        </view>
        <view class="shop-tags" wx:if="{{item.tags && item.tags.length}}">
          <text class="tag-item" wx:for="{{item.tags}}" wx:key="*this" wx:for-item="tag">{{tag}}</text>
        </view>
      </view>
      <view class="unfavorite-btn" bindtap="unfavoriteShop" data-id="{{item.id}}" catchtap="true">
        <text class="unfavorite-icon">â¤ï¸</text>
      </view>
    </view>
  </view>

  <view wx:if="{{favoriteShops.length === 0}}" class="empty-state">
    <image class="empty-image" src="https://via.placeholder.com/200/f0f0f0/999999?text=Empty" mode="aspectFill" />
    <text class="empty-text">æš‚æ— æ”¶è—çš„åº—é“º</text>
    <view class="empty-btn" bindtap="goToDiscover">å»å‘ç°</view>
  </view>
</view>


