<!--pages/circle/detail/detail.wxml-->
<!-- è‡ªå®šä¹‰å¯¼èˆªæ  -->
<custom-nav-bar title="åœˆå­è¯¦æƒ…" showBack="{{true}}"></custom-nav-bar>

<view class="container">
  <image class="cover-image" src="{{circleInfo.cover}}" mode="aspectFill" />

  <view class="card">
    <view class="circle-name">{{circleInfo.name}}</view>
    <view class="circle-stats">
      <text>{{circleInfo.memberCount}}æˆå‘˜</text>
      <text class="dot">â€¢</text>
      <text>{{circleInfo.postCount}}å¸–å­</text>
    </view>
    <view class="circle-desc">{{circleInfo.description}}</view>
    <view class="btn btn-primary full-width" bindtap="toggleJoin">
      {{circleInfo.isJoined ? 'é€€å‡ºåœˆå­' : 'åŠ å…¥åœˆå­'}}
    </view>
  </view>

  <view class="posts-section">
    <view class="section-title">æœ€æ–°åŠ¨æ€</view>
    <view class="post-item card" wx:for="{{posts}}" wx:key="id">
      <view class="post-header">
        <image class="avatar-small" src="{{item.avatar}}" mode="aspectFill" />
        <view class="flex-1">
          <view class="text-primary">{{item.author}}</view>
          <view class="text-placeholder">{{item.createTime}}</view>
        </view>
      </view>
      <view class="post-content">{{item.content}}</view>
      <view class="post-actions">
        <text>ğŸ‘ {{item.likeCount}}</text>
        <text>ğŸ’¬ {{item.commentCount}}</text>
      </view>
    </view>
  </view>
</view>
