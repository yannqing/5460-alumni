<!--pages/alumni-association/detail/detail.wxml-->
<view class="container">
  <view wx:if="{{associationInfo}}">
    <image class="cover-image" src="{{associationInfo.cover}}" mode="aspectFill" />

    <view class="card">
      <view class="flex">
        <image class="avatar-large" src="{{associationInfo.icon}}" mode="aspectFill" />
        <view class="flex-1 ml-20">
          <view class="text-primary text-bold">{{associationInfo.name}}</view>
          <view class="text-secondary mt-10">{{associationInfo.schoolName}}</view>
          <view class="text-placeholder mt-10">ğŸ“ {{associationInfo.location}}</view>
        </view>
      </view>
      <view class="mt-20">
        <view class="btn btn-primary full-width" bindtap="toggleJoin">
          {{associationInfo.isJoined ? 'é€€å‡ºæ ¡å‹ä¼š' : 'åŠ å…¥æ ¡å‹ä¼š'}}
        </view>
      </view>
    </view>

    <view class="tabs">
      <view class="tab-item {{activeTab === index ? 'active' : ''}}" wx:for="{{tabs}}" wx:key="*this" bindtap="switchTab" data-index="{{index}}">
        {{item}}
      </view>
    </view>

    <view wx:if="{{activeTab === 0}}" class="card">
      <view class="text-bold mb-20">åŸºæœ¬ä¿¡æ¯</view>
      <view class="text-secondary">{{associationInfo.description}}</view>
      <view class="divider"></view>
      <view class="text-secondary">ä¼šé•¿ï¼š{{associationInfo.president}}</view>
      <view class="text-secondary mt-10">æˆå‘˜ï¼š{{associationInfo.memberCount}}äºº</view>
      <view class="text-secondary mt-10">æˆç«‹äºï¼š{{associationInfo.establishedYear}}å¹´</view>
    </view>

    <view wx:if="{{activeTab === 1}}">
      <view class="list-item" wx:for="{{members}}" wx:key="id">
        <image class="avatar" src="{{item.avatar}}" mode="aspectFill" />
        <view class="flex-1">
          <view class="text-primary">{{item.name}}</view>
          <view class="text-placeholder mt-10">{{item.role}} Â· {{item.company}}</view>
        </view>
      </view>
    </view>
  </view>
</view>
